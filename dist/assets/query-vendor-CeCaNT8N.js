import{r as st,a as d}from"./react-vendor-CEpth63u.js";var L={exports:{}},R={};var q;function it(){if(q)return R;q=1;var t=st(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function a(n,o,l){var u,f={},h=null,y=null;l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(y=o.ref);for(u in o)i.call(o,u)&&!c.hasOwnProperty(u)&&(f[u]=o[u]);if(n&&n.defaultProps)for(u in o=n.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:e,type:n,key:h,ref:y,props:f,_owner:r.current}}return R.Fragment=s,R.jsx=a,R.jsxs=a,R}var B;function rt(){return B||(B=1,L.exports=it()),L.exports}var kt=rt(),T=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ot=class{#e=nt;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},w=new ot;function at(t){setTimeout(t,0)}var S=typeof window>"u"||"Deno"in globalThis;function I(){}function K(t){return typeof t=="number"&&t>=0&&t!==1/0}function ut(t,e){return Math.max(t+(e||0)-Date.now(),0)}function O(t,e){return typeof t=="function"?t(e):t}function v(t,e){return typeof t=="function"?t(e):t}function z(t){return JSON.stringify(t,(e,s)=>j(s)?Object.keys(s).sort().reduce((i,r)=>(i[r]=s[r],i),{}):s)}var ht=Object.prototype.hasOwnProperty;function G(t,e){if(t===e)return t;const s=H(t)&&H(e);if(!s&&!(j(t)&&j(e)))return e;const r=(s?t:Object.keys(t)).length,c=s?e:Object.keys(e),a=c.length,n=s?new Array(a):{};let o=0;for(let l=0;l<a;l++){const u=s?l:c[l],f=t[u],h=e[u];if(f===h){n[u]=f,(s?l<r:ht.call(t,u))&&o++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){n[u]=h;continue}const y=G(f,h);n[u]=y,y===f&&o++}return r===a&&o===r?t:n}function x(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function H(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function j(t){if(!J(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!J(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function J(t){return Object.prototype.toString.call(t)==="[object Object]"}function W(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?G(t,e):e}function X(t,e){return typeof t=="function"?t(...e):!!t}var ct=class extends T{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!S&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},lt=new ct;function V(){let t,e;const s=new Promise((r,c)=>{t=r,e=c});s.status="pending",s.catch(()=>{});function i(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},s.reject=r=>{i({status:"rejected",reason:r}),e(r)},s}var ft=at;function dt(){let t=[],e=0,s=n=>{n()},i=n=>{n()},r=ft;const c=n=>{e?t.push(n):r(()=>{s(n)})},a=()=>{const n=t;t=[],n.length&&r(()=>{i(()=>{n.forEach(o=>{s(o)})})})};return{batch:n=>{let o;e++;try{o=n()}finally{e--,e||a()}return o},batchCalls:n=>(...o)=>{c(()=>{n(...o)})},schedule:c,setNotifyFunction:n=>{s=n},setBatchNotifyFunction:n=>{i=n},setScheduler:n=>{r=n}}}var _=dt(),pt=class extends T{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!S&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#e}},vt=new pt;function bt(t){return(t??"online")==="online"?vt.isOnline():!0}function yt(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bt(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var mt=class extends T{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=V(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#s=void 0;#i=void 0;#r;#n;#o;#a;#v;#f;#d;#h;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$(this.#t,this.options)?this.#l():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Q(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Q(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#R(),this.#O(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof v(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!x(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Y(this.#t,s,this.options,e)&&this.#l(),this.updateResult(),i&&(this.#t!==s||v(this.options.enabled,this.#t)!==v(e.enabled,this.#t)||O(this.options.staleTime,this.#t)!==O(e.staleTime,this.#t))&&this.#b();const r=this.#y();i&&(this.#t!==s||v(this.options.enabled,this.#t)!==v(e.enabled,this.#t)||r!==this.#u)&&this.#m(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),s=this.createResult(e,t);return Rt(this,s)&&(this.#i=s,this.#n=this.options,this.#r=this.#t.state),s}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),s=this.#e.getQueryCache().build(this.#e,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#l({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#l(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(I)),e}#b(){this.#R();const t=O(this.options.staleTime,this.#t);if(S||this.#i.isStale||!K(t))return;const s=ut(this.#i.dataUpdatedAt,t)+1;this.#h=w.setTimeout(()=>{this.#i.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#m(t){this.#O(),this.#u=t,!(S||v(this.options.enabled,this.#t)===!1||!K(this.#u)||this.#u===0)&&(this.#c=w.setInterval(()=>{(this.options.refetchIntervalInBackground||lt.isFocused())&&this.#l()},this.#u))}#g(){this.#b(),this.#m(this.#y())}#R(){this.#h&&(w.clearTimeout(this.#h),this.#h=void 0)}#O(){this.#c&&(w.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const s=this.#t,i=this.options,r=this.#i,c=this.#r,a=this.#n,o=t!==s?t.state:this.#s,{state:l}=t;let u={...l},f=!1,h;if(e._optimisticResults){const p=this.hasListeners(),E=!p&&$(t,e),g=p&&Y(t,s,e,i);(E||g)&&(u={...u,...yt(l.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:y,errorUpdatedAt:k,status:m}=u;h=u.data;let D=!1;if(e.placeholderData!==void 0&&h===void 0&&m==="pending"){let p;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(p=r.data,D=!0):p=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,p!==void 0&&(m="success",h=W(r?.data,p,e),f=!0)}if(e.select&&h!==void 0&&!D)if(r&&h===c?.data&&e.select===this.#v)h=this.#f;else try{this.#v=e.select,h=e.select(h),h=W(r?.data,h,e),this.#f=h,this.#a=null}catch(p){this.#a=p}this.#a&&(y=this.#a,h=this.#f,k=Date.now(),m="error");const M=u.fetchStatus==="fetching",P=m==="pending",F=m==="error",N=P&&M,A=h!==void 0,b={status:m,fetchStatus:u.fetchStatus,isPending:P,isSuccess:m==="success",isError:F,isInitialLoading:N,isLoading:N,data:h,dataUpdatedAt:u.dataUpdatedAt,error:y,errorUpdatedAt:k,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:M,isRefetching:M&&!P,isLoadingError:F&&!A,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:F&&A,isStale:U(t,e),refetch:this.refetch,promise:this.#o,isEnabled:v(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const p=C=>{b.status==="error"?C.reject(b.error):b.data!==void 0&&C.resolve(b.data)},E=()=>{const C=this.#o=b.promise=V();p(C)},g=this.#o;switch(g.status){case"pending":t.queryHash===s.queryHash&&p(g);break;case"fulfilled":(b.status==="error"||b.data!==g.value)&&E();break;case"rejected":(b.status!=="error"||b.error!==g.reason)&&E();break}}return b}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#n=this.options,this.#r.data!==void 0&&(this.#d=this.#t),x(e,t))return;this.#i=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const c=new Set(r??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#i).some(a=>{const n=a;return this.#i[n]!==t[n]&&c.has(n)})};this.#E({listeners:s()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#E(t){_.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function gt(t,e){return v(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $(t,e){return gt(t,e)||t.state.data!==void 0&&Q(t,e,e.refetchOnMount)}function Q(t,e,s){if(v(e.enabled,t)!==!1&&O(e.staleTime,t)!=="static"){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&U(t,e)}return!1}function Y(t,e,s,i){return(t!==e||v(i.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&U(t,s)}function U(t,e){return v(e.enabled,t)!==!1&&t.isStaleByTime(O(e.staleTime,t))}function Rt(t,e){return!x(t.getCurrentResult(),e)}function Ot(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var St=class extends T{#e;#t=void 0;#s;#i;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#e.defaultMutationOptions(t),x(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&z(e.mutationKey)!==z(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#n(t)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#n()}mutate(t,e){return this.#i=e,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(t)}#r(){const t=this.#s?.state??Ot();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#n(t){_.batch(()=>{if(this.#i&&this.hasListeners()){const e=this.#t.variables,s=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#i.onSuccess?.(t.data,e,s,i),this.#i.onSettled?.(t.data,null,e,s,i)):t?.type==="error"&&(this.#i.onError?.(t.error,e,s,i),this.#i.onSettled?.(void 0,t.error,e,s,i))}this.listeners.forEach(e=>{e(this.#t)})})}},Et=d.createContext(void 0),tt=t=>{const e=d.useContext(Et);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},et=d.createContext(!1),Ct=()=>d.useContext(et);et.Provider;function wt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var It=d.createContext(wt()),xt=()=>d.useContext(It),Tt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_t=t=>{d.useEffect(()=>{t.clearReset()},[t])},Mt=({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||X(s,[t.error,i])),Pt=t=>{if(t.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>s(i(...r)):s(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Ft=(t,e)=>t.isLoading&&t.isFetching&&!e,Lt=(t,e)=>t?.suspense&&e.isPending,Z=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function jt(t,e,s){const i=Ct(),r=xt(),c=tt(),a=c.defaultQueryOptions(t);c.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",Pt(a),Tt(a,r),_t(r);const n=!c.getQueryCache().get(a.queryHash),[o]=d.useState(()=>new e(c,a)),l=o.getOptimisticResult(a),u=!i&&t.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(f=>{const h=u?o.subscribe(_.batchCalls(f)):I;return o.updateResult(),h},[o,u]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),d.useEffect(()=>{o.setOptions(a)},[a,o]),Lt(a,l))throw Z(a,o,r);if(Mt({result:l,errorResetBoundary:r,throwOnError:a.throwOnError,query:c.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw l.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(a,l),a.experimental_prefetchInRender&&!S&&Ft(l,i)&&(n?Z(a,o,r):c.getQueryCache().get(a.queryHash)?.promise)?.catch(I).finally(()=>{o.updateResult()}),a.notifyOnChangeProps?l:o.trackResult(l)}function Dt(t,e){return jt(t,mt)}function Nt(t,e){const s=tt(),[i]=d.useState(()=>new St(s,t));d.useEffect(()=>{i.setOptions(t)},[i,t]);const r=d.useSyncExternalStore(d.useCallback(a=>i.subscribe(_.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=d.useCallback((a,n)=>{i.mutate(a,n).catch(I)},[i]);if(r.error&&X(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:c,mutateAsync:r.mutate}}export{Nt as a,tt as b,kt as j,Dt as u};
